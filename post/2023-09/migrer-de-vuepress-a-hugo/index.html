<!doctype html><html lang=fr-fr dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='J’utilise Vuepress depuis un an. Au travail, nous l’utilisons pour documenter nos processus et nos guides (environ 400+ articles). Mais c’est devenu lent.'><title>Migrer de Vuepress à Hugo</title>
<link rel=canonical href=https://jeremielitzLer.fr/post/2023-09/migrer-de-vuepress-a-hugo/ itemprop=url><link rel=stylesheet href=/scss/style.min.d8118f156935b64eca93aca758476adca858d2c47354971654d9bd2933a0e45f.css><meta property='og:title' content='Migrer de Vuepress à Hugo'><meta property='og:description' content='J’utilise Vuepress depuis un an. Au travail, nous l’utilisons pour documenter nos processus et nos guides (environ 400+ articles). Mais c’est devenu lent.'><meta property='og:url' content='https://jeremielitzLer.fr/post/2023-09/migrer-de-vuepress-a-hugo/'><meta property='og:site_name' content='Jérémie Litzler'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Générateur de site statique'><meta property='article:published_time' content='2023-09-11T00:00:00+00:00'><meta property='article:modified_time' content='2023-09-11T00:00:00+00:00'><meta property='og:image' content='https://jeremielitzLer.fr/post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo.jpg'><meta name=twitter:title content="Migrer de Vuepress à Hugo"><meta name=twitter:description content="J’utilise Vuepress depuis un an. Au travail, nous l’utilisons pour documenter nos processus et nos guides (environ 400+ articles). Mais c’est devenu lent."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://jeremielitzLer.fr/post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo.jpg'><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=https://jeremielitzLer.fr/css/custom-style.css></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Afficher le menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/profilepic-400w_hu0d260670f142c28330b6a3dd6fbeddc8_111803_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><p class=site-name><a href=/>Jérémie Litzler</a></p><p class=site-description>Je partage ici mes notes et experiences que, je suis sûr, seront utiles pour au moins une personne. Bonne lecture !</p></div></header><ol class=social-menu><li><a href=https://github.com/JeremieLitzler target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jeremielitzler/ target=_blank title=LinkedIn rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg></a></li><li><a href=https://twitter.com/LitzlerJeremie target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Accueil</span></a></li><li><a href=/page/a-propos/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Qui suis-je ?</span></a></li><li><a href=/page/soutenez-moi/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-heart-handshake" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#707070" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572 12 20l-7.5-7.428A5 5 0 1112 6.006a5 5 0 117.5 6.572"/><path d="M12 6 8.707 9.293a1 1 0 000 1.414l.543.543c.69.69 1.81.69 2.5.0l1-1a3.182 3.182.0 014.5.0l2.25 2.25"/><path d="M12.5 15.5l2 2"/><path d="M15 13l2 2"/></svg>
<span>Soutenez mon travail</span></a></li><li><a href=/page/contactez-moi/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-message-chatbot" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#707070" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 21V8a3 3 0 013-3h10a3 3 0 013 3v6a3 3 0 01-3 3H8l-4 4"/><path d="M9.5 9h.01"/><path d="M14.5 9h.01"/><path d="M9.5 13a3.5 3.5.0 005 0"/></svg>
<span>Contactez-moi</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Rechercher</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archive d'articles</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://jeremielitzLer.fr/ selected></option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Mode sombre</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table des matières</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#quelle-alternative>Quelle alternative</a><ol><li><a href=#lobjectif>L’objectif</a></li><li><a href=#le-choix>Le choix</a></li></ol></li><li><a href=#prérequis-avec-hugo>Prérequis avec Hugo</a><ol><li><a href=#installer-hugo>Installer Hugo</a></li></ol></li><li><a href=#les-tâches-de-migration-du-contenu>Les tâches de migration du contenu</a><ol><li><a href=#1--ne-pas-utiliser-les-_blocs-de-code_-avec-des-xy-suivant-la-déclaration-du-langage-de-programmation>1- Ne pas utiliser les <em>blocs de code</em> avec des &ldquo;{x,y,&mldr;}&rdquo; suivant la déclaration du langage de programmation</a></li><li><a href=#2--copier-le-contenu-de-vuepresspublic-dans-le-dossier-contentstatic>2- Copier le contenu de <code>.Vuepress/public</code> dans le dossier <code>content/static</code></a></li><li><a href=#3--renommer-tous-les-readmemd-en-indexmd-si-vous-lutilisez-pour-nommer-le-fichier-racine-dune-page-ou-dun-article>3- Renommer tous les <code>README.md</code> en <code>index.md</code>, si vous l&rsquo;utilisez pour nommer le fichier racine d&rsquo;une page ou d&rsquo;un article</a></li><li><a href=#4--choisir-le-thème>4- Choisir le thème</a></li><li><a href=#5--personnaliser-la-thème>5- Personnaliser la thème</a><ol><li><a href=#les-liens-relatifs>Les liens relatifs</a></li><li><a href=#les-blocs-de-mise-en-avant-de-contenu>Les blocs de mise en avant de contenu</a></li></ol></li><li><a href=#6--mettre-à-jour-la-_frontmatter_>6- Mettre à jour la <em>frontmatter</em></a></li><li><a href=#7--les-images-dans-les-fichiers-markdown>7- Les images dans les fichiers Markdown</a></li></ol></li><li><a href=#comparaison-entre-vuepress-et-hugo>Comparaison entre Vuepress et Hugo</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/2023-09/migrer-de-vuepress-a-hugo/><img src=/post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_600x0_resize_q75_box.jpg srcset="/post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_360x0_resize_q75_box.jpg 360w, /post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_600x0_resize_q75_box.jpg 600w, /post/2023-09/migrer-de-vuepress-a-hugo/images/2023-08-30-accueil-du-siteweb-hugo_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_1024x0_resize_q75_box.jpg 1024w" width=600 height=230 alt="Image de l'article 'Migrer de Vuepress à Hugo'"></a></div><div class=article-details><header class=article-category><a href=/categories/tutoriels/>Tutoriels</a></header><div class=article-title-wrapper><h1 class=article-title><a href=/post/2023-09/migrer-de-vuepress-a-hugo/>Migrer de Vuepress à Hugo</a></h1><h2 class=article-subtitle>J’utilise Vuepress depuis un an. Au travail, nous l’utilisons pour documenter nos processus et nos guides (environ 400+ articles). Mais c’est devenu lent.</h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>11/09/2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>12 minutes de lecture</time></div></footer></div></header><section class=article-content><p>Au travail, la génération du site nécessite :</p><ul><li>86 secondes pour initialiser et préparer les données</li><li>64 secondes pour compiler</li><li>81 secondes pour générer les pages</li></ul><p>Ce qui équivaut à 236 secondes au total.</p><p><img src=/post/2023-09/migrer-de-vuepress-a-hugo/images/temps-de-generation-du-media-d-un-site-de-documentation-au-travail.jpg width=674 height=233 srcset="/post/2023-09/migrer-de-vuepress-a-hugo/images/_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_4d7338119c9c8473ace9f35dc852393c.jpg 360w, /post/2023-09/migrer-de-vuepress-a-hugo/images/_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_8eef68f0472df03c9c3574dcecc88f0d.jpg 600w, /post/2023-09/migrer-de-vuepress-a-hugo/images/_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_4f0baf562c07413a0d255aada8b3213d.jpg 1024w" loading=lazy alt="Temps de génération du média d’un site de documentation au travail…" class=gallery-image data-flex-grow=289 data-flex-basis=694px></p><p>Sur une machine virtuelle sur laquelle nous travaillons, cela prend :</p><ul><li>61 secondes pour initialiser et préparer les données</li><li>199 secondes pour compiler</li><li>90 secondes pour générer les pages</li></ul><p>Ce qui équivaut à 368 secondes au total.</p><p>Cela semble bien et le canal d’intégration contenu sur Azure DevOps prend environ 4 minutes, ce qui est similaire.</p><p>Mais deux collègues ont rapporté que cela avait pris plus de 800 secondes pour eux…</p><p>La raison derrière cela est détaillée ici : <a href=https://github.com/orgs/Vuepress-theme-hope/discussions/2887>https://github.com/orgs/Vuepress-theme-hope/discussions/2887</a>.</p><p>Personnellement, sur mes sites web, j’ai plus eu des problèmes de SEO :</p><ul><li>taxonomie non normalisée,</li><li>pas d’accès à la personnalisation des pages de catégories et de tags,</li><li>frontmatter gonflé pour ajouter des liens canoniques et des méta OpenGraph.</li></ul><h2 id=quelle-alternative>Quelle alternative</h2><h3 id=lobjectif>L’objectif</h3><p>J’avais besoin :</p><ul><li>des fonctionnalités en termes de syntaxe Markdown,</li><li>d’une génération performante,</li><li>d’une prise en charge de &ldquo;blockcontainer&rdquo;, par exemple pour afficher des notes, des conseils, des avertissements, etc.,</li><li>d’une prise en charge des métadonnées pour OpenGraph et canonique,</li><li>d’une taxonomie avec catégories et tags,</li><li>des liens &ldquo;Markdown&rdquo; pour lier les articles les uns aux autres.</li></ul><p>De plus, si je pouvais avoir un support pour le référencement naturel avec la possibilité de personnaliser le titre et la description de toutes les pages (en particulier les pages de taxonomie) et de normaliser les URL pour que le référencement soit heureux, ce serait génial.</p><p>Ce dernier point serait possible (une belle surprise), mais je ne le savais pas lorsque j’ai commencé à enquêter sur Hugo.</p><h3 id=le-choix>Le choix</h3><p>J’ai pensé à utiliser un générateur de site statique comme Hugo pour son efficacité sur l’étape de génération.</p><p>Cela nécessiterait cependant d’adapter le contenu, car Vuepress et Hugo sont très différents lorsqu’il s’agit d’analyser et convertir le Markdown en HTML (le premier est en JavaScript et l’autre en Go…).</p><p>Et je ne connaissais rien au langage Go :O</p><h2 id=prérequis-avec-hugo>Prérequis avec Hugo</h2><p>Tout d’abord, nous avons besoin de :</p><ul><li>télécharger et installer <code>Go</code> (rien de particulier à faire pendant l’installation, juste &ldquo;Suivant, suivant, suivant…") : <a href=https://go.dev/dl/>https://go.dev/dl/</a></li><li>télécharger Hugo (j’ai téléchargé la version 0.117.0) : <a href=https://github.com/gohugoio/hugo/releases/>https://github.com/gohugoio/hugo/releases/</a></li></ul><h3 id=installer-hugo>Installer Hugo</h3><p>Pour les utilisateurs Windows, il faut :</p><ul><li>Créer un dossier <code>Hugo</code> dans <code>C:\Program Files</code></li><li>Copier le contenu du ZIP, téléchargé précédemment, dans <code>C:\Program Files\Hugo</code></li><li>Ajouter au <code>PATH</code> le chemin vers le dossier content l’exécutable de Hugo : <code>C:\Program Files\Hugo</code></li><li>(Re)Lancer Visual Studio Code et ouvrir le terminal <code>Git Bash</code> avec <code>CTRL+ù</code>.</li><li>Exécuter la commande <code>hugo</code>. Vous devriez lire le message “<em>Error: Unable to locate config file or config directory. Perhaps you need to create a new site</em>”. Cela confirme qu’Hugo est bien installé :)</li></ul><div class="jli-notice jli-notice-warning" id="N'utilisez pas Windows Prompt ou Windows PowerShell"><p class=jli-notice-title>N'utilisez pas Windows Prompt ou Windows PowerShell</p><p>Pour lancer la commande <code>hugo</code>, préférez l’usage de :</p><ul><li>Git Bash, inclut avec Git par défaut.</li><li>Powershell 7.x ou plus récent.</li></ul></div><h2 id=les-tâches-de-migration-du-contenu>Les tâches de migration du contenu</h2><h3 id=1--ne-pas-utiliser-les-_blocs-de-code_-avec-des-xy-suivant-la-déclaration-du-langage-de-programmation>1- Ne pas utiliser les <em>blocs de code</em> avec des &ldquo;{x,y,&mldr;}&rdquo; suivant la déclaration du langage de programmation</h3><p>Quelque chose comme ce qui suit ne compilera pas :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>```xml{1,26}
</span></span><span class=line><span class=cl>... some XML ...
</span></span></code></pre></td></tr></table></div></div><p>Nettoyez ces cas si vous en avez.</p><h3 id=2--copier-le-contenu-de-vuepresspublic-dans-le-dossier-contentstatic>2- Copier le contenu de <code>.Vuepress/public</code> dans le dossier <code>content/static</code></h3><p>De plus, si vous utilisez quelque chose comme Drawio et que vous utilisez la fonctionnalité <em>export en HTML</em>, vous devrez ajouter ce qui suit en haut de chaque fichier HTML exporté :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>+++
</span></span><span class=line><span class=cl>+++
</span></span></code></pre></td></tr></table></div></div><p>Cela permet que le site web soit généré sans erreur (voir <a href=https://discourse.gohugo.io/t/solved-using-html-for-content-pages-instead-of-markdown/3374/5>cette discussion sur le forum de Hugo</a>).</p><h3 id=3--renommer-tous-les-readmemd-en-indexmd-si-vous-lutilisez-pour-nommer-le-fichier-racine-dune-page-ou-dun-article>3- Renommer tous les <code>README.md</code> en <code>index.md</code>, si vous l&rsquo;utilisez pour nommer le fichier racine d&rsquo;une page ou d&rsquo;un article</h3><p>Hugo exige que les fichiers markdown d&rsquo;un répertoire soient nommés <code>index.md</code> lorsque vous utilisez la structure de dossiers suivante :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ mon-article/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ images/
</span></span></code></pre></td></tr></table></div></div><p>J&rsquo;ai vu des tutoriels où les gens les nommaient <code>quelque-chose-d-autre.md</code>, mais c&rsquo;est lorsque vous utilisez cette autre structure de dossiers :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ mon-article.md
</span></span></code></pre></td></tr></table></div></div><p>Je préfère le premier, car je conserve les images spécifiques à une publication au même endroit que le fichier Markdown.</p><p>Le script ci-dessous doit être exécuter dans le dossier <code>content</code> pour renommer les <code>README.md</code> en <code>index.md</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find . -iname <span class=s1>&#39;README.md&#39;</span> -execdir mv <span class=o>{}</span> index.md <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4--choisir-le-thème>4- Choisir le thème</h3><p>J&rsquo;ai tenté d&rsquo;utiliser le thème suggéré par la documentation de Hugo. Toutefois, il est trop simpliste et surtout, je n&rsquo;arrivais pas à afficher les pages de type &ldquo;liste&rdquo; à s&rsquo;afficher correctement.</p><p>Puis, je suis tombé sur <a href=https://github.com/CaiJimmy>le thème de Jimmy</a> : <a href=https://github.com/CaiJimmy/hugo-theme-stack-starter>https://github.com/CaiJimmy/hugo-theme-stack-starter</a>.</p><p>Il est riche, fonctionne et est documenté !</p><p>Avec ce thème, il me manquait les blocs de mise en avant de contenu que j&rsquo;utilisais sur Vuepress pour tout ce qui est notes, astuces, avertissements et messages de danger.</p><h3 id=5--personnaliser-la-thème>5- Personnaliser la thème</h3><p>Pour être honnête, aux premiers abords, le thème recommendé par la documentation de Hugo m&rsquo;a rendu confu à propos du fonctionnement de Hugo.</p><p>Puis, en utilisant le <a href=https://github.com/CaiJimmy/hugo-theme-stack-starter>thème de Jimmy</a>, j&rsquo;ai commencé à comprendre.</p><p>Mon but était de conserver les liens relatifs naturels entre les différents fichiers (liens relatifs) du site web et utiliser la syntaxe Vuepress fournie dans le thème de Mr Hope pour <a href=https://theme-hope.vuejs.press/guide/markdown/container.html>l&rsquo;usage des blocs de mise en avant de contenu</a>.</p><h4 id=les-liens-relatifs>Les liens relatifs</h4><p>Par défaut, Hugo ne fournit pas la possibilité de générer un lien relatif d&rsquo;un page ou d&rsquo;un article à un autre :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>[<span class=nt>Mon lien vers une autre page dans le site web</span>](<span class=na>../page/a-propos.md</span>)
</span></span></code></pre></td></tr></table></div></div><p>Le Markdown ci-dessus deviendrait en HTML ceci :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-HTML data-lang=HTML><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://mondomaine.com/page/a-propos/&#34;</span><span class=p>&gt;</span>Mon lien vers une autre page dans le site web<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Même si les auteurs de Hugo et la documentation proposent d&rsquo;utiliser le <em>shortcode</em> <code>{{&lt; ref "/path/to/page-or-post/" >}}</code>, ce n&rsquo;est pas du tout pratique et cela ne permet pas d&rsquo;utiliser l&rsquo;intellisense dans VSC pour sélectionner le fichier cible.</p><div class="jli-notice jli-notice-warning" id="Si vous souhaitez afficher un exemple de blocs de mise en avant de contenu..."><p class=jli-notice-title>Si vous souhaitez afficher un exemple de blocs de mise en avant de contenu...</p><p>Faites ce que Joe Mooring indique <a href=https://github.com/gohugoio/hugo/issues/11054#issuecomment-1572295424>dans le ticket GitHub du dépôt de Hugo</a>.</p></div><p>De plus, je n&rsquo;arrivais pas à trouver comment remplacer les centaines de liens relatifs sur mes sites Web pour passer de la syntaxe native markdown à la syntaxe shortcode&mldr;</p><p>Heureusement, après un peu de recherche, j&rsquo;ai trouvé un autre modèle pour écraser la logique par défaut dans <code>render-link.html</code> et cela me permet de générer des liens relatifs comme je le voulais.</p><p>Voici le code <a href=https://github.com/JeremieLitzler/jeremielitzler.fr-with-hugo-theme-stack/blob/master/layouts/_default/_markup/render-link.html>dans mon dépôt</a>.</p><p>Vous devez le mettre sous <code>layouts/_default/_markup/render-link.html</code> pour écraser la logique par défaut.</p><div class="jli-notice jli-notice-warning" id='A propos des fichier qui ne sont pas nommés "index.md"'><p class=jli-notice-title>A propos des fichier qui ne sont pas nommés "index.md"</p><p>Cependant, pour les liens vers des fichiers qui sont pas nommés <code>index.md</code>, cela ne fonctionne pas.</p><p>J&rsquo;utilise cette organisation pour les pages ou articles de grande taille :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Markdown data-lang=Markdown><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ mon-article/
</span></span><span class=line><span class=cl>            |__ images/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ partie-1.md
</span></span><span class=line><span class=cl>            |__ partie-2.md
</span></span><span class=line><span class=cl>            |__ ...
</span></span><span class=line><span class=cl>            |__ partie-N.md
</span></span></code></pre></td></tr></table></div></div><p>Pour que les liens relatifs fonctionnent, il faudrait :</p><ul><li>mettre chaque fichier dans son propre dossier.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ mon-article/
</span></span><span class=line><span class=cl>            |__ images/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ partie-1/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>            |__ partie-2/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>            ...
</span></span><span class=line><span class=cl>            |__ partie-N/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span></code></pre></td></tr></table></div></div><ul><li>ou fusionner les parties dans le fichier <code>index.md</code>.</li></ul></div><h4 id=les-blocs-de-mise-en-avant-de-contenu>Les blocs de mise en avant de contenu</h4><p>Ensuite, je voulais pouvoir utiliser une syntaxe similaire à ceci avec Hugo :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>:::warning Le titre du bloc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Le contenu du bloc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:::
</span></span></code></pre></td></tr></table></div></div><p>Avec l&rsquo;aide de <a href=https://github.com/Lovirr>Lovirr</a> et <a href=https://github.com/CaiJimmy>CaiJimmy</a>, nous avons trouvé la solution : créer un <em>shortcode</em> personnalisé. N&rsquo;hésitez pas à consulter <a href=https://github.com/CaiJimmy/hugo-theme-stack/discussions/867>ma discussion avec eux sur GitHub</a> sur le sujet.</p><p>Les shortcodes se placent dans <code>layouts/shortcodes</code>. Dans mon cas, je l&rsquo;ai nommé <code>blockcontainer.html</code>.</p><p>Le code du <em>shortcode</em> <a href=https://github.com/JeremieLitzler/jeremielitzler.fr-with-hugo-theme-stack/blob/master/layouts/shortcodes/blockcontainer.html>est disponible dans mon dépôt</a>.</p><p>Vous pouvez modifier la classe CSS si vous le souhaitez. Mes styles sont les suivants :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>root</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>--theme-color</span><span class=p>:</span> <span class=mh>#3eaf7c</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--accent-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--body-text-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-light</span><span class=p>:</span> <span class=mh>#fdfdfe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-dark</span><span class=p>:</span> <span class=mh>#858585</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-light</span><span class=p>:</span> <span class=mh>#e6f6e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-dark</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-light</span><span class=p>:</span> <span class=mh>#fff8e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-dark</span><span class=p>:</span> <span class=mh>#e6a700</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-light</span><span class=p>:</span> <span class=mh>#ffebec</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-dark</span><span class=p>:</span> <span class=mh>#e13238</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>data-scheme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>--body-text-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-light</span><span class=p>:</span> <span class=mh>#858585</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-dark</span><span class=p>:</span> <span class=mh>#fdfdfe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-light</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-dark</span><span class=p>:</span> <span class=mh>#e6f6e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-light</span><span class=p>:</span> <span class=mh>#e6a700</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-dark</span><span class=p>:</span> <span class=mh>#fff8e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-light</span><span class=p>:</span> <span class=mh>#e13238</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-dark</span><span class=p>:</span> <span class=mh>#ffebec</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>padding</span><span class=p>:</span> <span class=mf>0.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>border-radius</span><span class=p>:</span> <span class=mf>0.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>.</span><span class=nc>highlight</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>.</span><span class=nc>gallery</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=nt>blockquote</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>margin-left</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>margin-right</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>width</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=nt>p</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-title</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>font-weight</span><span class=p>:</span> <span class=kc>bold</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-note</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-tip</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-warning</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-danger</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Ensuite, j&rsquo;ai créé <a href=https://github.com/JeremieLitzler/jeremielitzler.fr-with-hugo-theme-stack/blob/master/.vscode/shortcodes.code-snippets>ce snippet pour Visual Studio Code</a> à utiliser très facilement dans un fichier Markdown pendant la rédaction d&rsquo;une page ou d&rsquo;un article.</p><p>Dans le fichier markdown, cela ressemble à ceci :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>Le</span> <span class=na>titre</span> <span class=na>du</span> <span class=na>bloc</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Le corps du bloc.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>Pour être clair, dans l&rsquo;exemple ci-dessus :</p><ul><li><code>jli-notice-warning</code> correspond à la classe CSS ajouter à la <code>div</code> du bloc. Cela correspond <code>$noticeType</code> dans le code du <em>shortcode</em>.</li><li><code>Le titre du bloc</code> correspond au titre que le <em>shortcode</em> génère dans le premier élément <code>p</code>.</li><li><code>Le corps du bloc.</code> correspond au corps du bloc du <em>shortcode</em>. Cela peut être n&rsquo;importe quel contenu Markdown multi-lignes valide. <code>$raw</code> dans le code du <em>shortcode</em> représente ce contenu.</li></ul><p>Comme vous le voyez, les shortcodes fonctionnent comme un élément HTML, avec une balise d&rsquo;ouverture et de fermeture.</p><p>Vous pouvez utiliser uniquement la syntaxe d&rsquo;ouverture :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>Juste</span> <span class=na>un</span> <span class=na>titre</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>Vous pouvez utiliser Markdown standard pour les images et les liens dans le corps.</p><p>Pour les liens relatifs vers d&rsquo;autres pages ou articles au sein d&rsquo;un même site, veillez à ne pas utiliser le contenu markdown suivant lorsque vous êtes à l&rsquo;intérieur du bloc.</p><p>Par exemple, avec la structure de dossier suivante dans le dossier <code>content</code> :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>content</span><span class=o>/</span>
</span></span><span class=line><span class=cl>    <span class=o>|</span><span class=nt>__</span> <span class=nt>post</span><span class=o>/</span>
</span></span><span class=line><span class=cl>        <span class=o>|</span><span class=nt>__</span> <span class=nt>un-super-article</span><span class=o>/</span>
</span></span><span class=line><span class=cl>            <span class=o>|</span><span class=nt>__</span> <span class=nt>index</span><span class=p>.</span><span class=nc>md</span>
</span></span><span class=line><span class=cl>        <span class=o>|</span><span class=nt>__</span> <span class=nt>un-premier-article</span><span class=o>/</span>
</span></span><span class=line><span class=cl>            <span class=o>|</span><span class=nt>__</span> <span class=nt>index</span><span class=p>.</span><span class=nc>md</span>
</span></span></code></pre></td></tr></table></div></div><p>Vous pouvez écrire le Markdown suivant :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>Mon</span> <span class=na>titre</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[<span class=nt>Mon super article</span>](<span class=na>../mon-super-article/index.md</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>Même si le lien fonctionnerait en dehors du <em>shortcode</em>, il ne fonctionnera pas à l’intérieur… Je n’ai pas compris pourquoi.</p><p>Cependant, j&rsquo;ai compris comment le faire fonctionner dans le <em>shortcode</em>. Vous devez utiliser une référence absolue :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>Mon</span> <span class=na>titre</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[<span class=nt>Mon super article</span>](<span class=na>/post/mon-super-article/index.md</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><h3 id=6--mettre-à-jour-la-_frontmatter_>6- Mettre à jour la <em>frontmatter</em></h3><p>Premièrement, j&rsquo;utilisais les propriétés <code>heroImage</code> et <code>heroAlt</code> (texte alternatif pour <code>heroImage</code>).</p><p>Dans Hugo, <code>heroImage</code> devient <code>image</code> et cela fonctionne de la même façon et même mieux. La valeur <code>image: /images/mon-image.jpg</code> signifie que l&rsquo;image est sourcé dans le dossier <code>static/images/</code>.</p><p>Toutefois, la valeur <code>image: images/mon-image.jpg</code> fonctionne contrairement à Vuepress. Elle doit alors être stockée par exemple dans <code>content/post/mon-article/images</code>.</p><div class="jli-notice jli-notice-warning" id=Important><p class=jli-notice-title>Important</p><p>Vous devez ajouter du frontmatter à chaque fichier Markdown.</p><p>Sinon, vous voyez l&rsquo;article mais aucun titre sur lequel cliquer pour accéder à la page ou à la publication, même si vous avez <code>Mon titre</code> en haut&mldr;</p></div><h3 id=7--les-images-dans-les-fichiers-markdown>7- Les images dans les fichiers Markdown</h3><p>Il vous suffit de déclarer une image de la manière habituelle :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=c>&lt;!-- quand un dossier « images » existe au même niveau que le fichier Markdown --&gt;</span>
</span></span><span class=line><span class=cl>![<span class=nt>Mon image</span>](<span class=na>images/mon-image.jpg</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- quand l’image est dans &#34;/static/images&#34; --&gt;</span>
</span></span><span class=line><span class=cl>![<span class=nt>Mon image</span>](<span class=na>/images/mon-image.jpg</span>)
</span></span></code></pre></td></tr></table></div></div><h2 id=comparaison-entre-vuepress-et-hugo>Comparaison entre Vuepress et Hugo</h2><ul><li><p>Temps de génération ⇒ meilleur avec Hugo</p><p>pour le même contenu, cela prend moitié moins de temps</p><p><img src=/post/2023-09/migrer-de-vuepress-a-hugo/images/avec-hugo.png width=1055 height=60 srcset="/post/2023-09/migrer-de-vuepress-a-hugo/images/avec-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_360x0_resize_box_3.png 360w, /post/2023-09/migrer-de-vuepress-a-hugo/images/avec-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_600x0_resize_box_3.png 600w, /post/2023-09/migrer-de-vuepress-a-hugo/images/avec-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_1024x0_resize_box_3.png 1024w" loading=lazy alt="avec Hugo" class=gallery-image data-flex-grow=1758 data-flex-basis=4220px></p><p>au lieu de</p><p><img src=/post/2023-09/migrer-de-vuepress-a-hugo/images/avec-vuepress.png width=1061 height=59 srcset="/post/2023-09/migrer-de-vuepress-a-hugo/images/avec-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_360x0_resize_box_3.png 360w, /post/2023-09/migrer-de-vuepress-a-hugo/images/avec-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_600x0_resize_box_3.png 600w, /post/2023-09/migrer-de-vuepress-a-hugo/images/avec-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_1024x0_resize_box_3.png 1024w" loading=lazy alt="avec Vuepress" class=gallery-image data-flex-grow=1798 data-flex-basis=4315px></p><p>Dans le site de documentation de mon équipe au travail, le temps de construction est passé d’environ 250 secondes à 5 secondes. Pas mal ;)</p></li><li><p>Les blocs de contenu ⇒ OK, en utilisant un <em>shortcode</em> personnalisé.</p></li><li><p>Metadata ⇒ OK, OpenGraph + URL canonique sont générés par défaut et ils utilisent les valeurs dans le frontmatter pour les propriétés <code>title</code>, <code>description</code>, <code>image</code> et le nom du dossier pour l’URL.</p></li><li><p>SEO ⇒ meilleur, car j’ai le contrôle sur toutes les pages, en particulier les catégories et les étiquettes (<em>tags</em>), même si je dois créer les pages pour chaque taxonomie manuellement afin d’avoir un titre et une description unique. Sinon cela prend la valeur par défaut du site web.</p><ul><li>Allez voir <a href=https://github.com/CaiJimmy/hugo-theme-stack-starter>la démo du thème</a>. Vous comprendrez rapidement le principe.</li></ul></li><li><p>Image ⇒ Je ne suis pas sûr. Bien que la documentation indique que les images peuvent être <em>adaptées à la taille de l’écran</em> et que <code>webp</code> est disponible, seulement la première option est possible. La transformation de <code>jpg</code> à <code>webp</code> n’est pas si trivial.</p></li><li><p>Je n’ai pas pu comparé Vuepress à Hugo, car LightHouse, PageSpeed.web.dev et GTMetrix me disent tous que le site Vuepress est non analysable…</p></li><li><p>Taxonomie des catégories et étiquettes ⇒ meilleures, l’URL est normalisée à la génération du lien dans un article et la page pour chaque taxonomie est personnalisable :)</p></li><li><p>Liens relatifs vers d’autres pages dans le même site web ⇒ OK</p></li></ul><p>Une chose que j’ai dû réaliser fut de réorganiser le contenu pour ne pas dépasser les 100 caractères maximum pour chaque URL (page et article). J’utilisais cette structure pour mes articles :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>docs/
</span></span><span class=line><span class=cl>    |__ 2023/ <span class=c>&lt;!-- année --&gt;</span>
</span></span><span class=line><span class=cl>        |__ 08/ <span class=c>&lt;!-- mois --&gt;</span>
</span></span><span class=line><span class=cl>            |__ mon-article/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>                |__ images/
</span></span></code></pre></td></tr></table></div></div><p>Je suis passé à cette structure :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ 2023-08 <span class=c>&lt;!-- &#34;année-mois&#34; --&gt;</span>
</span></span><span class=line><span class=cl>            |__ mon-article/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>                |__ images/
</span></span></code></pre></td></tr></table></div></div><p>J’ai donc dû implémenter des redirections de l’ancien chemin vers le nouveau, car j’avais partagé des articles !</p><p>Ceci est possible avec le fichier de configuration <code>netlify.toml</code>. Consultez <a href=https://docs.netlify.com/routing/redirects/>https://docs.netlify.com/routing/redirects/</a> pour comprendre comment cela fonctionne.</p><p>Sinon, n’hésitez pas à utiliser <a href=https://docs.google.com/spreadsheets/d/1cAA9Gfhx3jg3GRdvWGFvq-Gz2yXH66e8Yg4P_BFpw3Q>cette Google Sheet</a> pour construire vos redirects.</p><p>Aussi, vous pouvez utiliser ce script bash pour lister tous les chemins vers vos articles pour les copier dans la Google Sheet :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> /docs
</span></span><span class=line><span class=cl>find . -iname <span class=s1>&#39;README.md&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Vous voici à la fin de ce long article ! J’espère que vous l’avez trouvé utile et je vous souhaite un merveilleux voyage avec Hugo.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/generateur-de-site-statique/>Générateur De Site Statique</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licencié sous CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Contenus liés</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/2024-02/enregistrer-globalement-des-composants-dans-vue3-et-typescript/><div class=article-image><img src=/images/2024-02/2024-02-27/preview-of-main.ts-file.jpg loading=lazy data-key data-hash=/images/2024-02/2024-02-27/preview-of-main.ts-file.jpg alt=" Enregistrer globalement des composants dans Vue 3"></div><div class=article-details><h2 class=article-title>Enregistrer globalement des composants dans Vue 3</h2></div></a></article><article class=has-image><a href=/post/2024-02/migrer-site-wordpress-vers-ms-azure/><div class=article-image><img src=/post/2024-02/migrer-site-wordpress-vers-ms-azure/images/_hu3ab7efb706468219c54a44979d10b083_87483_a94a5d35e3572ba6d8ba184c43d5d52c.png width=250 height=150 loading=lazy alt=" Comment migrer un site WordPress vers Microsoft Azure ?" data-hash="md5-lEZQVguvTEW2z3RCyUseXg=="></div><div class=article-details><h2 class=article-title>Comment migrer un site WordPress vers Microsoft Azure ?</h2></div></a></article><article class=has-image><a href=/post/2023-12/generer-un-document-word-avec-opemxml-powertools-et-csharp/><div class=article-image><img src=/post/2023-12/generer-un-document-word-avec-opemxml-powertools-et-csharp/images/_hueea3a30a1677da30a5b62a1531a513fd_460496_db2cfdb0b0b7713f1b32244a4e54a4b4.jpg width=250 height=150 loading=lazy alt=" Générer un document Word avec OpenXml PowerTools" data-hash="md5-V/7rwFT4+jNrAcr3PFjbCA=="></div><div class=article-details><h2 class=article-title>Générer un document Word avec OpenXml PowerTools</h2></div></a></article><article><a href=/post/2023-12/comment-verifier-un-fichier-televerse/><div class=article-details><h2 class=article-title>Vérifiez vraiment ce qu'est un fichier téléversé</h2></div></a></article><article class=has-image><a href=/post/2023-05/activer-netlifycms-sur-son-site-web/><div class=article-image><img src=/images/2023-04-19-jamstack-javascript-apis-markup.webp loading=lazy data-key data-hash=/images/2023-04-19-jamstack-javascript-apis-markup.webp alt=" Activer l'édition du contenu de son site web"></div><div class=article-details><h2 class=article-title>Activer l'édition du contenu de son site web</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2024 Jérémie Litzler</section><section class=powerby>License GPLv3 | <a href=https://jeremielitzler.fr/page/mentions-legales/ title="Lire les mentions légales">Mentions légales</a><br>Généré avec <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Thème <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.24.0>Stack</a></b> conçu par <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>